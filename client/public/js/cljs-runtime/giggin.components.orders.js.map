{"version":3,"sources":["giggin/components/orders.cljs"],"mappings":"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","names":["giggin.components.orders/total","giggin.state/orders","cljs.core/deref","cljs.core.map","p__17365","vec__17366","cljs.core.nth","id","quant","cljs.core.get_in","giggin.state/gigs","cljs.core.reduce","cljs.core/+","giggin.components.orders/orders","p1__17369#","remove-from-order","cljs.core.swap_BANG_","cljs.core/dissoc","remove-all-orders","cljs.core/reset!","giggin.components.favorites-items/favorites-items","cljs.core/empty?","iter__5523__auto__","s__17371","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__17373","cljs.core/chunk-buffer","i__17372","vec__17374","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__17370","cljs.core/chunk-rest","vec__17377","cljs.core/first","cljs.core/cons","cljs.core/rest","giggin.helpers/format-price","cljs.core/chunk-first"],"sourcesContent":["(ns giggin.components.orders\n  (:require [giggin.components.favorites-items :refer [favorites-items]]\n            [giggin.helpers :refer [format-price]]\n            [giggin.state :as state]))\n\n(defn total\n  []\n  (->> @state/orders\n       (map (fn [[id quant]] (* quant (get-in @state/gigs [id :price]))))\n       (reduce +)))\n\n(defn orders\n  []\n  (let [remove-from-order #(swap! state/orders dissoc %)\n        remove-all-orders #(reset! state/orders {})]\n    [:aside\n     [favorites-items]\n     (if (empty? @state/orders)\n       [:div.empty\n        [:div.title \"You don't have any orders\"]\n        [:div.subtitle \"Click on a + to add an order\"]]\n       [:div.order\n        [:div.body\n         (for [[id quant] @state/orders]\n           [:div.item {:key id}\n            [:div.img\n             [:img {:src (get-in @state/gigs [id :img])\n                    :alt (get-in @state/gigs [id :title])}]]\n            [:div.content\n             [:p.title (str (get-in @state/gigs [id :title]) \" \\u00D7 \" quant)]]\n            [:div.action\n             [:div.price (format-price (* (get-in @state/gigs [id :price]) quant))]\n             [:button.btn.btn--link.tooltip\n              {:data-tooltip \"Remove\"\n               :on-click #(remove-from-order id)}\n              [:i.icon.icon--cross]]]])]\n        [:div.total\n         [:hr]\n         [:div.item\n          [:div.content \"Total\"]\n          [:div.action\n           [:div.price (format-price (total))]]\n          [:button.btn.btn--link.tooltip\n           {:data-tooltip \"Remove all\"\n            :on-click #(remove-all-orders)}\n           [:i.icon.icon--delete]]]]])]))\n"]}